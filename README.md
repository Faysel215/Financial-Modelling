# Marked Hawkes Process Trading Simulator
Financial market simulator models how news sentiment can influence market activity and tests a volatility-based trading strategy against these dynamics. The simulation is built on a self-exciting Marked Hawkes Process, where market events are influenced by a combination of baseline volatility, historical events, and external "shocks" from financial news sentiment.The project is presented as an interactive web application built with Streamlit, allowing users to adjust all key model parameters and instantly see the impact on both market behavior and trading strategy performance.

![UI Preview](mhp-screenshot.png)

## üöÄ Key Features
- **Interactive Dashboard:** A user-friendly interface built with Streamlit to control all simulation parameters without touching the code.
- **Sentiment-Driven Events:** Models how positive or negative news can "jolt" the intensity of market activity.
- **Self-Exciting Behavior:** Captures the real-world phenomenon of event clustering, where periods of high activity lead to more activity.
- Integrated Strategy Backtesting: Simulates a volatility-based trading strategy that acts on the events generated by the Hawkes process.
- **Dynamic Visualization:** Instantly view the results, including the simulated event intensity, asset price path, and trade entry/exit points on a clear and interactive chart.
- **Detailed Logging:** Get a summary of key performance indicators (Total P&L, Number of Trades) and a detailed log of every trade executed by the strategy.

## ‚öôÔ∏è The Simulation Model: An Engine in Three Parts
The simulator's core is built from scratch in Python and integrates three distinct but interconnected processes:
1. The Event Generation Engine (Marked Hawkes Process)This process determines when market events happen. The intensity, or rate of events Œª(t), is not constant; it's a dynamic function of three components:
- **Baseline Intensity:** A foundational level of activity derived from a simulated Implied Volatility (IV) curve.
  - **Self-Excitation:** Each simulated event adds a "jolt" of excitement (Œ≤), which then fades over time according to a decay speed (Œ¥). This causes events to cluster together.
- **External Marks (Sentiment):** Impactful news events (our "marks") provide an additional, powerful jolt to the intensity. The size of this jolt is controlled by the sentiment score and the `alpha` parameter.

The simulation uses Ogata's modified thinning algorithm to generate event timestamps based on this dynamic intensity, providing a realistic event distribution.

2. The Asset Price Process (Geometric Brownian Motion)
This process simulates the price of a traded asset (e.g., a stock). The price path is modeled using Geometric Brownian Motion (GBM), but with a crucial twist: its volatility is dynamic.
- The price has a baseline drift (`mu`) and volatility (`sigma_base`).
- Crucially, for a short period following a Hawkes event, the asset's volatility is increased by a `sigma_shock_addon`. This links the event simulation to the price simulation, causing periods of high event activity to correspond with wilder price swings.

3. The Trading Strategy Process
This is the "brain" that decides when to act. It continuously monitors the output from the Hawkes process and executes a pre-defined volatility trading strategy:
- **Trigger:** A trade is initiated only when a Hawkes event occurs and the event's intensity (Œª(t)) is above a user-defined `trade_threshold`.
- **Action:** The strategy enters a position, betting on a large price move (direction-neutral).
- **Lifecycle:** The trade is held for a fixed `holding_period` before being closed. Profit & Loss is calculated based on the absolute price change, minus a `transaction_cost`.
